#!/bin/bash

cd ~/projects/

echo -en '\033]2;'$1'\007' # set the title of the window

case "$1" in
  jarvis)       cd jarvis &&             bundle exec rails s;;
  web)          cd wuaki_web &&          bundle exec unicorn -p 3010;;
  resque)       cd wuaki_web &&          QUEUE=* bundle exec rake resque:work;;
  background)   cd wuaki_background &&   bundle exec rails s -p 7000;;
  bworker)      cd wuaki_background &&   bundle exec rake resque:work QUEUE=*;;
  backoffice)   cd wuaki_backoffice &&   bundle exec unicorn -p 3020;;
  cerberus)     cd cerberus &&           bundle exec rackup config.ru -p 4000;;
  nfrac)        cd frac &&               shotgun config.ru -p 6000;;
  frac)         cd frac &&               shotgun config.ru -p 8080;;
  frac_worker)  cd frac &&               bundle exec libexec/frac-worker;;
  babieca)      cd babieca &&            foreman start;;
  gopro)        cd wuaki_deploys &&      git pull; bundle exec cap background:workers production servers:list;;

  #services
  mailcatcher)  mailcatcher -fv;;
  nginx)        nginx -g "daemon off;";;
  redis)        redis-server;;
  mysql)        mysql.server start;;
  riak)         cd riak-box &&           vagrant up ;;
  elastic)      elasticsearch ;;
  rabbit)       rabbitmq-server ;;
  neo)          neo4j console;;
  mongo)        makdir -p mongo-data &&  mongod --dbpath mongo-data ;;

  # shortcuts
  w) up web;;
  c) up cerberus;;
  f) up frac;;
  n) up nginx;;
  j) up jarvis;;
  r) up redis;;
  m) up mysql;;

  *) echo "command '$1' not found"
esac


# if [ "$1" = "wadus" ]
# then
#   echo "hey"
# fi
